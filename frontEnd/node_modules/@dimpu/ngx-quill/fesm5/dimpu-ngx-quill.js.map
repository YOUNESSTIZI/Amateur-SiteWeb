{"version":3,"file":"dimpu-ngx-quill.js.map","sources":["ng://@dimpu/ngx-quill/lib/ngx-quill.component.ts","ng://@dimpu/ngx-quill/lib/ngx-quill.module.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\ndeclare var require: any;\nlet Quill: any;\n\n@Component({\n  selector: 'ngx-quill',\n  template: `<ng-content select=\"[ngx-quill-toolbar]\"></ng-content>`,\n  styleUrls: [\n  ],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => NgxQuillComponent),\n    multi: true\n  }],\n  encapsulation: ViewEncapsulation.None\n})\nexport class NgxQuillComponent implements AfterViewInit, ControlValueAccessor, OnChanges {\n\n  quillEditor: any;\n  editorElem: HTMLElement;\n  defaultModules = {\n    toolbar: [\n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n      ['blockquote', 'code-block'],\n\n      [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n      [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n      [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n      [{ 'direction': 'rtl' }],                         // text direction\n\n      [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n      [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n      [{ 'color': new Array<any>() }, { 'background': new Array<any>() }],          // dropdown with defaults from theme\n      [{ 'font': new Array<any>() }],\n      [{ 'align': new Array<any>() }],\n\n      ['clean'],                                         // remove formatting button\n\n      ['link', 'image', 'video']                         // link and image, video\n    ]\n  };\n\n  @Input() options: any = {};\n  @Input() content: any;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter();\n  @Output() focus: EventEmitter<any> = new EventEmitter();\n  @Output() ready: EventEmitter<any> = new EventEmitter();\n  @Output() change: EventEmitter<any> = new EventEmitter();\n\n  onModelChange: Function = () => {};\n  onModelTouched: Function = () => {};\n\n  constructor(private elementRef: ElementRef) { }\n\n  ngAfterViewInit() {\n    const toolbarElem = this.elementRef.nativeElement.querySelector(\n      '[ngx-quill-toolbar]'\n    );\n\n    this.elementRef.nativeElement.insertAdjacentHTML(\n      'beforeend',\n      '<div ngx-quill-element></div>'\n    );\n    this.editorElem = this.elementRef.nativeElement.querySelector(\n      '[ngx-quill-element]'\n    );\n\n\n    if (!Quill) {\n      Quill = require('quill');\n    }\n\n    this.options  =  {...{\n      modules: this.defaultModules,\n      placeholder: 'Insert text here ...',\n      readOnly: false,\n      theme: 'snow',\n      boundary: document.body\n    }, ...this.options};\n\n    if (toolbarElem) {\n      this.options.modules['toolbar'] = toolbarElem;\n    }\n\n    this.quillEditor = new Quill(this.editorElem, this.options);\n\n    if (this.content) {\n      this.quillEditor.pasteHTML(this.content);\n    }\n\n    this.ready.emit(this.quillEditor);\n\n    this.quillEditor.on('selection-change', (range: any) => {\n      if (!range) {\n        this.onModelTouched();\n        this.blur.emit(this.quillEditor);\n      } else {\n        this.focus.emit(this.quillEditor);\n      }\n    });\n\n    this.quillEditor.on('text-change', (delta: any, oldDelta: any, source: any) => {\n      let html = this.editorElem.children[0].innerHTML;\n      const text = this.quillEditor.getText();\n\n      if (html === '<p><br></p>') {\n        html = null;\n      }\n\n      this.onModelChange(html);\n\n      this.change.emit({\n        editor: this.quillEditor,\n        html: html,\n        text: text\n      });\n    });\n    this.quillEditor.enable(false);\n    setTimeout(() => {\n      this.quillEditor.enable(true);\n    }, 0);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['readOnly'] && this.quillEditor) {\n      this.quillEditor.enable(!changes['readOnly'].currentValue);\n    }\n\n    if (changes['content'] && this.quillEditor) {\n      this.quillEditor.pasteHTML(this.content);\n    }\n  }\n\n  writeValue(currentValue: any) {\n    this.content = currentValue;\n\n    if (this.quillEditor) {\n      if (currentValue) {\n        this.quillEditor.pasteHTML(currentValue);\n        return;\n      }\n      this.quillEditor.setText('');\n    }\n  }\n\n  registerOnChange(fn: Function): void {\n    this.onModelChange = fn;\n  }\n\n  registerOnTouched(fn: Function): void {\n    this.onModelTouched = fn;\n  }\n}\n","import 'katex';\nimport { NgModule } from '@angular/core';\nimport { NgxQuillComponent } from './ngx-quill.component';\n\n@NgModule({\n  imports: [],\n  declarations: [ NgxQuillComponent ],\n  exports: [ NgxQuillComponent ]\n})\nexport class NgxQuillModule { }\n"],"names":[],"mappings":"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"}
